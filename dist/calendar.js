(()=>{const e=new Date;[2024,2028,2032,2036,2040,2044].includes(e.getFullYear)&&(months[1][1]=29);const t=e.getMonth();(()=>{console.log("Calendar run");const n=[["January",31],["February",28],["March",31],["April",30],["May",31],["June",30],["July",31],["August",31],["September",30],["October",31],["November",30],["December",31]],r=e.getMonth();document.querySelector(".date h1").innerHTML=n[r][0],document.querySelector(".date p").innerHTML=r==t?e.toDateString():e.getFullYear();const l=document.querySelector(".days"),o=new Date(e.getFullYear(),e.getMonth(),0).getDay()-1;new Date(e.getFullYear(),e.getMonth(),n[r][1]).getDay();for(var a=[],i=1;i<=n[r][1];i++){let n=!1;i==e.getDate()&&r==t&&(a.push(`<div class="today">${i}</div>`),n=!0);try{for(let e of events)i.toString()==e.getDate()&&r==e.getMonth()&&(a.push(`<div class="calEvent">${i}</div>`),n=!0)}catch(e){console.error(e)}n||a.push(`<div>${i}</div>`)}if(0==r)var s=11;else s=r-1;var c=[];for(i=o;i>=0;i--)c.push(`<div class="prev-date">${n[s][1]-i}</div>`);var d=[];for(i=1;i<=42-(c.length+a.length);i++)d.push(`<div class="next-date">${i}</div>`);l.innerHTML=c.join("")+a.join("")+d.join("");const u=document.querySelectorAll(".calEvent");for(let e of u)e.addEventListener("click",(()=>{document.getElementById("event-left").style.visibility="visible",document.getElementById("event-right").style.visibility="visible"}))})()})();