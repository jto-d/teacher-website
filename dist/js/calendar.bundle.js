(()=>{const e=new Date;[2024,2028,2032,2036,2040,2044].includes(e.getFullYear)&&(months[1][1]=29);const t=e.getMonth(),n=()=>{console.log("Calendar run");const n=[["January",31],["February",28],["March",31],["April",30],["May",31],["June",30],["July",31],["August",31],["September",30],["October",31],["November",30],["December",31]],o=e.getMonth();document.querySelector(".date h1").innerHTML=n[o][0],document.querySelector(".date p").innerHTML=o==t?e.toDateString():e.getFullYear();const l=document.querySelector(".days"),r=new Date(e.getFullYear(),e.getMonth(),0).getDay()-1;new Date(e.getFullYear(),e.getMonth(),n[o][1]).getDay();for(var i=[],a=1;a<=n[o][1];a++){let n=!1;a==e.getDate()&&o==t&&(i.push(`<div class="today">${a}</div>`),n=!0);try{for(let e of events)a.toString()==e.getDate()&&o==e.getMonth()&&(i.push(`<div class="calEvent">${a}</div>`),n=!0)}catch(e){console.error(e)}n||i.push(`<div>${a}</div>`)}if(0==o)var c=11;else c=o-1;var s=[];for(a=r;a>=0;a--)s.push(`<div class="prev-date">${n[c][1]-a}</div>`);var d=[];for(a=1;a<=42-(s.length+i.length);a++)d.push(`<div class="next-date">${a}</div>`);l.innerHTML=s.join("")+i.join("")+d.join("");const u=document.querySelectorAll(".calEvent");for(let e of u)e.addEventListener("click",(()=>{document.getElementById("event-left").style.visibility="visible",document.getElementById("event-right").style.visibility="visible"}))};document.getElementById("prev").addEventListener("click",(()=>{e.setMonth(e.getMonth()-1),n()})),document.getElementById("next").addEventListener("click",(()=>{e.setMonth(e.getMonth()+1),n()})),n()})();